<!doctype html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <title>Merry Christmas!</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="index.css">
        <script type="module">
            import init, { run_with_config_window } from "./pkg/michaels_screensaver.js";
            init().then(() => {
                run_with_config_window()
            });
        </script>
        <script>
            function TriggerMenuDropdown() {
                document.getElementById("dropdown").classList.toggle("show");
            }

            /*
            // Close the dropdown if the user clicks outside of it
            window.onclick = function(event) {
                if (!event.target.matches('.dropbtn') && !event.target.matches('.dropdown-content')) {
                    var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                }
            }*/
        </script>
    </head>
    <body>
        <canvas id="screensaver"></canvas>
        <div class="dropdown">
            <button onclick="TriggerMenuDropdown()" class="dropbtn">Settings</button>
            <div id="dropdown" class="dropdown-content" style="width: 300px; height: 400px;">
                <canvas id="config_canvas" width="300" height="400"></canvas>
            </div>
        </div>

        <noscript>This demo requires JavaScript to work</noscript>
    </body>
</html>

